import{N as e,W as a,aj as t,aL as l,Q as o,r as n,S as s,w as r,a3 as i,ad as u,aX as c,Z as d,P as v,d as h,e as p,f,K as m,U as b,a5 as g,V as y,aY as k,a8 as _,aA as w,aD as C,aZ as A,a_ as x,X as V,a$ as M,F as $,v as S,a1 as I,b0 as E,b1 as N,aG as B,b2 as F,b3 as L,a as T,b4 as R,ag as U,R as H,i as K,h as W,l as O,k as z,g as P,j,p as D,m as Y,x as q,z as Q,b5 as X,I as Z,b6 as G,aq as J,ay as ee,t as ae,aQ as te,b7 as le,$ as oe,b8 as ne,O as se,a9 as re,b9 as ie,ba as ue,Y as ce,bb as de,T as ve,y as he,al as pe,bc as fe,aB as me,_ as be,bd as ge,b as ye,u as ke,be as _e,A as we,B as Ce,H as Ae,aT as xe,E as Ve,bf as Me,J as $e,L as Se}from"./index-63ac60c9.js";const Ie=e({color:{type:a(Object),required:!0},vertical:{type:Boolean,default:!1}});let Ee=!1;function Ne(e,a){if(!t)return;const l=function(e){var t;null==(t=a.drag)||t.call(a,e)},o=function(e){var t;document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",o),document.onselectstart=null,document.ondragstart=null,Ee=!1,null==(t=a.end)||t.call(a,e)},n=function(e){var t;Ee||(e.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",l),document.addEventListener("mouseup",o),document.addEventListener("touchmove",l),document.addEventListener("touchend",o),Ee=!0,null==(t=a.start)||t.call(a,e))};e.addEventListener("mousedown",n),e.addEventListener("touchstart",n)}const Be=(e,{bar:a,thumb:t,handleDrag:l})=>{const c=d(),v=o("color-alpha-slider"),h=n(0),p=n(0),f=n();function m(){h.value=function(){if(!t.value)return 0;if(e.vertical)return 0;const a=c.vnode.el,l=e.color.get("alpha");return a?Math.round(l*(a.offsetWidth-t.value.offsetWidth/2)/100):0}(),p.value=function(){if(!t.value)return 0;const a=c.vnode.el;if(!e.vertical)return 0;const l=e.color.get("alpha");return a?Math.round(l*(a.offsetHeight-t.value.offsetHeight/2)/100):0}(),f.value=function(){if(e.color&&e.color.value){const{r:a,g:t,b:l}=e.color.toRgb();return`linear-gradient(to right, rgba(${a}, ${t}, ${l}, 0) 0%, rgba(${a}, ${t}, ${l}, 1) 100%)`}return""}()}s((()=>{if(!a.value||!t.value)return;const e={drag:e=>{l(e)},end:e=>{l(e)}};Ne(a.value,e),Ne(t.value,e),m()})),r((()=>e.color.get("alpha")),(()=>m())),r((()=>e.color.value),(()=>m()));const b=i((()=>[v.b(),v.is("vertical",e.vertical)])),g=i((()=>v.e("bar"))),y=i((()=>v.e("thumb")));return{rootKls:b,barKls:g,barStyle:i((()=>({background:f.value}))),thumbKls:y,thumbStyle:i((()=>({left:u(h.value),top:u(p.value)}))),update:m}},Fe=v({name:"ElColorAlphaSlider"});var Le=y(v({...Fe,props:Ie,setup(e,{expose:a}){const t=e,{bar:o,thumb:n,handleDrag:s,handleClick:r}=(e=>{const a=d(),t=l(),o=l();function n(l){if(!o.value||!t.value)return;const n=a.vnode.el.getBoundingClientRect(),{clientX:s,clientY:r}=c(l);if(e.vertical){let a=r-n.top;a=Math.max(t.value.offsetHeight/2,a),a=Math.min(a,n.height-t.value.offsetHeight/2),e.color.set("alpha",Math.round((a-t.value.offsetHeight/2)/(n.height-t.value.offsetHeight)*100))}else{let a=s-n.left;a=Math.max(t.value.offsetWidth/2,a),a=Math.min(a,n.width-t.value.offsetWidth/2),e.color.set("alpha",Math.round((a-t.value.offsetWidth/2)/(n.width-t.value.offsetWidth)*100))}}return{thumb:t,bar:o,handleDrag:n,handleClick:function(e){e.target!==t.value&&n(e)}}})(t),{rootKls:i,barKls:u,barStyle:v,thumbKls:y,thumbStyle:k,update:_}=Be(t,{bar:o,thumb:n,handleDrag:s});return a({update:_,bar:o,thumb:n}),(e,a)=>(h(),p("div",{class:m(b(i))},[f("div",{ref_key:"bar",ref:o,class:m(b(u)),style:g(b(v)),onClick:a[0]||(a[0]=(...e)=>b(r)&&b(r)(...e))},null,6),f("div",{ref_key:"thumb",ref:n,class:m(b(y)),style:g(b(k))},null,6)],2))}}),[["__file","alpha-slider.vue"]]);var Te=y(v({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const a=o("color-hue-slider"),t=d(),l=n(),u=n(),v=n(0),h=n(0),p=i((()=>e.color.get("hue")));function f(a){if(!u.value||!l.value)return;const o=t.vnode.el.getBoundingClientRect(),{clientX:n,clientY:s}=c(a);let r;if(e.vertical){let e=s-o.top;e=Math.min(e,o.height-l.value.offsetHeight/2),e=Math.max(l.value.offsetHeight/2,e),r=Math.round((e-l.value.offsetHeight/2)/(o.height-l.value.offsetHeight)*360)}else{let e=n-o.left;e=Math.min(e,o.width-l.value.offsetWidth/2),e=Math.max(l.value.offsetWidth/2,e),r=Math.round((e-l.value.offsetWidth/2)/(o.width-l.value.offsetWidth)*360)}e.color.set("hue",r)}function m(){v.value=function(){if(!l.value)return 0;const a=t.vnode.el;if(e.vertical)return 0;const o=e.color.get("hue");return a?Math.round(o*(a.offsetWidth-l.value.offsetWidth/2)/360):0}(),h.value=function(){if(!l.value)return 0;const a=t.vnode.el;if(!e.vertical)return 0;const o=e.color.get("hue");return a?Math.round(o*(a.offsetHeight-l.value.offsetHeight/2)/360):0}()}return r((()=>p.value),(()=>{m()})),s((()=>{if(!u.value||!l.value)return;const e={drag:e=>{f(e)},end:e=>{f(e)}};Ne(u.value,e),Ne(l.value,e),m()})),{bar:u,thumb:l,thumbLeft:v,thumbTop:h,hueValue:p,handleClick:function(e){e.target!==l.value&&f(e)},update:m,ns:a}}}),[["render",function(e,a,t,l,o,n){return h(),p("div",{class:m([e.ns.b(),e.ns.is("vertical",e.vertical)])},[f("div",{ref:"bar",class:m(e.ns.e("bar")),onClick:a[0]||(a[0]=(...a)=>e.handleClick&&e.handleClick(...a))},null,2),f("div",{ref:"thumb",class:m(e.ns.e("thumb")),style:g({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}],["__file","hue-slider.vue"]]);const Re=e({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:k,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:a(Array)},validateEvent:{type:Boolean,default:!0}}),Ue={[_]:e=>w(e)||C(e),[A]:e=>w(e)||C(e),activeChange:e=>w(e)||C(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent},He=Symbol("colorPickerContextKey"),Ke=function(e,a,t){return[e,a*t/((e=(2-a)*t)<1?e:2-e)||0,e/2]},We=function(e,a){var t;"string"==typeof(t=e)&&t.includes(".")&&1===Number.parseFloat(t)&&(e="100%");const l=function(e){return"string"==typeof e&&e.includes("%")}(e);return e=Math.min(a,Math.max(0,Number.parseFloat(`${e}`))),l&&(e=Number.parseInt(""+e*a,10)/100),Math.abs(e-a)<1e-6?1:e%a/Number.parseFloat(a)},Oe={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},ze=e=>{e=Math.min(Math.round(e),255);const a=Math.floor(e/16),t=e%16;return`${Oe[a]||a}${Oe[t]||t}`},Pe=function({r:e,g:a,b:t}){return Number.isNaN(+e)||Number.isNaN(+a)||Number.isNaN(+t)?"":`#${ze(e)}${ze(a)}${ze(t)}`},je={A:10,B:11,C:12,D:13,E:14,F:15},De=function(e){return 2===e.length?16*(je[e[0].toUpperCase()]||+e[0])+(je[e[1].toUpperCase()]||+e[1]):je[e[1].toUpperCase()]||+e[1]},Ye=(e,a,t)=>{e=We(e,255),a=We(a,255),t=We(t,255);const l=Math.max(e,a,t),o=Math.min(e,a,t);let n;const s=l,r=l-o,i=0===l?0:r/l;if(l===o)n=0;else{switch(l){case e:n=(a-t)/r+(a<t?6:0);break;case a:n=(t-e)/r+2;break;case t:n=(e-a)/r+4}n/=6}return{h:360*n,s:100*i,v:100*s}},qe=function(e,a,t){e=6*We(e,360),a=We(a,100),t=We(t,100);const l=Math.floor(e),o=e-l,n=t*(1-a),s=t*(1-o*a),r=t*(1-(1-o)*a),i=l%6,u=[t,s,n,n,r,t][i],c=[r,t,t,s,n,n][i],d=[n,n,r,t,t,s][i];return{r:Math.round(255*u),g:Math.round(255*c),b:Math.round(255*d)}};class Qe{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const a in e)x(e,a)&&(this[a]=e[a]);e.value?this.fromString(e.value):this.doOnChange()}set(e,a){if(1!==arguments.length||"object"!=typeof e)this[`_${e}`]=a,this.doOnChange();else for(const t in e)x(e,t)&&this.set(t,e[t])}get(e){return"alpha"===e?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return qe(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const a=(e,a,t)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,a)),this._value=Math.max(0,Math.min(100,t)),this.doOnChange()};if(e.includes("hsl")){const t=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,a)=>a>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===t.length?this._alpha=100*Number.parseFloat(t[3]):3===t.length&&(this._alpha=100),t.length>=3){const{h:e,s:l,v:o}=function(e,a,t){t/=100;let l=a/=100;const o=Math.max(t,.01);return a*=(t*=2)<=1?t:2-t,l*=o<=1?o:2-o,{h:e,s:100*(0===t?2*l/(o+l):2*a/(t+a)),v:(t+a)/2*100}}(t[0],t[1],t[2]);a(e,l,o)}}else if(e.includes("hsv")){const t=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,a)=>a>2?Number.parseFloat(e):Number.parseInt(e,10)));4===t.length?this._alpha=100*Number.parseFloat(t[3]):3===t.length&&(this._alpha=100),t.length>=3&&a(t[0],t[1],t[2])}else if(e.includes("rgb")){const t=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,a)=>a>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===t.length?this._alpha=100*Number.parseFloat(t[3]):3===t.length&&(this._alpha=100),t.length>=3){const{h:e,s:l,v:o}=Ye(t[0],t[1],t[2]);a(e,l,o)}}else if(e.includes("#")){const t=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(t))return;let l,o,n;3===t.length?(l=De(t[0]+t[0]),o=De(t[1]+t[1]),n=De(t[2]+t[2])):6!==t.length&&8!==t.length||(l=De(t.slice(0,2)),o=De(t.slice(2,4)),n=De(t.slice(4,6))),8===t.length?this._alpha=De(t.slice(6))/255*100:3!==t.length&&6!==t.length||(this._alpha=100);const{h:s,s:r,v:i}=Ye(l,o,n);a(s,r,i)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:a,_value:t,_alpha:l,format:o}=this;if(this.enableAlpha)switch(o){case"hsl":{const l=Ke(e,a/100,t/100);this.value=`hsla(${e}, ${Math.round(100*l[1])}%, ${Math.round(100*l[2])}%, ${this.get("alpha")/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(a)}%, ${Math.round(t)}%, ${this.get("alpha")/100})`;break;case"hex":this.value=`${Pe(qe(e,a,t))}${ze(255*l/100)}`;break;default:{const{r:l,g:o,b:n}=qe(e,a,t);this.value=`rgba(${l}, ${o}, ${n}, ${this.get("alpha")/100})`}}else switch(o){case"hsl":{const l=Ke(e,a/100,t/100);this.value=`hsl(${e}, ${Math.round(100*l[1])}%, ${Math.round(100*l[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(a)}%, ${Math.round(t)}%)`;break;case"rgb":{const{r:l,g:o,b:n}=qe(e,a,t);this.value=`rgb(${l}, ${o}, ${n})`;break}default:this.value=Pe(qe(e,a,t))}}}const Xe=v({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const a=o("color-predefine"),{currentColor:t}=V(He),l=n(s(e.colors,e.color));function s(e,a){return e.map((e=>{const t=new Qe;return t.enableAlpha=!0,t.format="rgba",t.fromString(e),t.selected=t.value===a.value,t}))}return r((()=>t.value),(e=>{const a=new Qe;a.fromString(e),l.value.forEach((e=>{e.selected=a.compare(e)}))})),M((()=>{l.value=s(e.colors,e.color)})),{rgbaColors:l,handleSelect:function(a){e.color.fromString(e.colors[a])},ns:a}}}),Ze=["onClick"];var Ge=y(Xe,[["render",function(e,a,t,l,o,n){return h(),p("div",{class:m(e.ns.b())},[f("div",{class:m(e.ns.e("colors"))},[(h(!0),p($,null,S(e.rgbaColors,((a,t)=>(h(),p("div",{key:e.colors[t],class:m([e.ns.e("color-selector"),e.ns.is("alpha",a._alpha<100),{selected:a.selected}]),onClick:a=>e.handleSelect(t)},[f("div",{style:g({backgroundColor:a.value})},null,4)],10,Ze)))),128))],2)],2)}],["__file","predefine.vue"]]);const Je=v({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const a=o("color-svpanel"),t=d(),l=n(0),u=n(0),v=n("hsl(0, 100%, 50%)"),h=i((()=>({hue:e.color.get("hue"),value:e.color.get("value")})));function p(){const a=e.color.get("saturation"),o=e.color.get("value"),n=t.vnode.el,{clientWidth:s,clientHeight:r}=n;u.value=a*s/100,l.value=(100-o)*r/100,v.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function f(a){const o=t.vnode.el.getBoundingClientRect(),{clientX:n,clientY:s}=c(a);let r=n-o.left,i=s-o.top;r=Math.max(0,r),r=Math.min(r,o.width),i=Math.max(0,i),i=Math.min(i,o.height),u.value=r,l.value=i,e.color.set({saturation:r/o.width*100,value:100-i/o.height*100})}return r((()=>h.value),(()=>{p()})),s((()=>{Ne(t.vnode.el,{drag:e=>{f(e)},end:e=>{f(e)}}),p()})),{cursorTop:l,cursorLeft:u,background:v,colorValue:h,handleDrag:f,update:p,ns:a}}}),ea=[f("div",null,null,-1)];var aa=y(Je,[["render",function(e,a,t,l,o,n){return h(),p("div",{class:m(e.ns.b()),style:g({backgroundColor:e.background})},[f("div",{class:m(e.ns.e("white"))},null,2),f("div",{class:m(e.ns.e("black"))},null,2),f("div",{class:m(e.ns.e("cursor")),style:g({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},ea,6)],6)}],["__file","sv-panel.vue"]]);const ta=["onKeydown"],la=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],oa=v({name:"ElColorPicker"});const na=oe(y(v({...oa,props:Re,emits:Ue,setup(e,{expose:a,emit:t}){const l=e,{t:u}=I(),c=o("color"),{formItem:d}=E(),v=N(),y=B(),{inputId:k,isLabeledByFormItem:w}=F(l,{formItemContext:d}),C=n(),A=n(),x=n(),V=n(),M=n(),$=n(),{isFocused:S,handleFocus:oe,handleBlur:ne}=L(M,{beforeBlur(e){var a;return null==(a=V.value)?void 0:a.isFocusInsideContent(e)},afterBlur(){be(!1),_e()}}),se=e=>{if(y.value)return Se();oe(e)};let re=!0;const ie=T(new Qe({enableAlpha:l.showAlpha,format:l.colorFormat||"",value:l.modelValue})),ue=n(!1),ce=n(!1),de=n(""),ve=i((()=>l.modelValue||ce.value?function(e,a){if(!(e instanceof Qe))throw new TypeError("color should be instance of _color Class");const{r:t,g:l,b:o}=e.toRgb();return a?`rgba(${t}, ${l}, ${o}, ${e.get("alpha")/100})`:`rgb(${t}, ${l}, ${o})`}(ie,l.showAlpha):"transparent")),he=i((()=>l.modelValue||ce.value?ie.value:"")),pe=i((()=>w.value?void 0:l.label||u("el.colorpicker.defaultLabel"))),fe=i((()=>w.value?null==d?void 0:d.labelId:void 0)),me=i((()=>[c.b("picker"),c.is("disabled",y.value),c.bm("picker",v.value),c.is("focused",S.value)]));function be(e){ue.value=e}const ge=R(be,100,{leading:!0});function ye(){y.value||be(!0)}function ke(){ge(!1),_e()}function _e(){U((()=>{l.modelValue?ie.fromString(l.modelValue):(ie.value="",U((()=>{ce.value=!1})))}))}function we(){y.value||ge(!ue.value)}function Ce(){ie.fromString(de.value)}function Ae(){const e=ie.value;t(_,e),t("change",e),l.validateEvent&&(null==d||d.validate("change").catch((e=>te()))),ge(!1),U((()=>{const e=new Qe({enableAlpha:l.showAlpha,format:l.colorFormat||"",value:l.modelValue});ie.compare(e)||_e()}))}function xe(){ge(!1),t(_,null),t("change",null),null!==l.modelValue&&l.validateEvent&&(null==d||d.validate("change").catch((e=>te()))),_e()}function Ve(e){if(ue.value&&(ke(),S.value)){const a=new FocusEvent("focus",e);ne(a)}}function Me(e){e.preventDefault(),e.stopPropagation(),be(!1),_e()}function $e(e){switch(e.code){case le.enter:case le.space:e.preventDefault(),e.stopPropagation(),ye(),$.value.focus();break;case le.esc:Me(e)}}function Se(){M.value.blur()}return s((()=>{l.modelValue&&(de.value=he.value)})),r((()=>l.modelValue),(e=>{e?e&&e!==ie.value&&(re=!1,ie.fromString(e)):ce.value=!1})),r((()=>he.value),(e=>{de.value=e,re&&t("activeChange",e),re=!0})),r((()=>ie.value),(()=>{l.modelValue||ce.value||(ce.value=!0)})),r((()=>ue.value),(()=>{U((()=>{var e,a,t;null==(e=C.value)||e.update(),null==(a=A.value)||a.update(),null==(t=x.value)||t.update()}))})),H(He,{currentColor:he}),a({color:ie,show:ye,hide:ke,focus:function(){M.value.focus()},blur:Se}),(e,a)=>(h(),K(b(ae),{ref_key:"popper",ref:V,visible:ue.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[b(c).be("picker","panel"),b(c).b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${b(c).namespace.value}-zoom-in-top`,persistent:"",onHide:a[2]||(a[2]=e=>be(!1))},{content:W((()=>[O((h(),p("div",{onKeydown:z(Me,["esc"])},[f("div",{class:m(b(c).be("dropdown","main-wrapper"))},[P(Te,{ref_key:"hue",ref:C,class:"hue-slider",color:b(ie),vertical:""},null,8,["color"]),P(aa,{ref_key:"sv",ref:A,color:b(ie)},null,8,["color"])],2),e.showAlpha?(h(),K(Le,{key:0,ref_key:"alpha",ref:x,color:b(ie)},null,8,["color"])):j("v-if",!0),e.predefine?(h(),K(Ge,{key:1,ref:"predefine",color:b(ie),colors:e.predefine},null,8,["color","colors"])):j("v-if",!0),f("div",{class:m(b(c).be("dropdown","btns"))},[f("span",{class:m(b(c).be("dropdown","value"))},[P(b(D),{ref_key:"inputRef",ref:$,modelValue:de.value,"onUpdate:modelValue":a[0]||(a[0]=e=>de.value=e),"validate-event":!1,size:"small",onKeyup:z(Ce,["enter"]),onBlur:Ce},null,8,["modelValue","onKeyup"])],2),P(b(Y),{class:m(b(c).be("dropdown","link-btn")),text:"",size:"small",onClick:xe},{default:W((()=>[q(Q(b(u)("el.colorpicker.clear")),1)])),_:1},8,["class"]),P(b(Y),{plain:"",size:"small",class:m(b(c).be("dropdown","btn")),onClick:Ae},{default:W((()=>[q(Q(b(u)("el.colorpicker.confirm")),1)])),_:1},8,["class"])],2)],40,ta)),[[b(X),Ve]])])),default:W((()=>[f("div",{id:b(k),ref_key:"triggerRef",ref:M,class:m(b(me)),role:"button","aria-label":b(pe),"aria-labelledby":b(fe),"aria-description":b(u)("el.colorpicker.description",{color:e.modelValue||""}),"aria-disabled":b(y),tabindex:b(y)?-1:e.tabindex,onKeydown:$e,onFocus:se,onBlur:a[1]||(a[1]=(...e)=>b(ne)&&b(ne)(...e))},[b(y)?(h(),p("div",{key:0,class:m(b(c).be("picker","mask"))},null,2)):j("v-if",!0),f("div",{class:m(b(c).be("picker","trigger")),onClick:we},[f("span",{class:m([b(c).be("picker","color"),b(c).is("alpha",e.showAlpha)])},[f("span",{class:m(b(c).be("picker","color-inner")),style:g({backgroundColor:b(ve)})},[O(P(b(Z),{class:m([b(c).be("picker","icon"),b(c).is("icon-arrow-down")])},{default:W((()=>[P(b(G))])),_:1},8,["class"]),[[J,e.modelValue||ce.value]]),O(P(b(Z),{class:m([b(c).be("picker","empty"),b(c).is("icon-close")])},{default:W((()=>[P(b(ee))])),_:1},8,["class"]),[[J,!e.modelValue&&!ce.value]])],6)],2)],2)],42,la)])),_:1},8,["visible","popper-class","transition"]))}}),[["__file","color-picker.vue"]])),sa=e({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:ne},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:se},activeActionIcon:{type:se},activeIcon:{type:se},inactiveIcon:{type:se},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:a(Function)},id:String,tabindex:{type:[String,Number]},value:{type:[Boolean,String,Number],default:!1},label:{type:String,default:void 0}}),ra={[_]:e=>re(e)||w(e)||ie(e),[A]:e=>re(e)||w(e)||ie(e),[ue]:e=>re(e)||w(e)||ie(e)},ia=["onClick"],ua=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],ca=["aria-hidden"],da=["aria-hidden"],va=["aria-hidden"],ha="ElSwitch",pa=v({name:ha});const fa=oe(y(v({...pa,props:sa,emits:ra,setup(e,{expose:a,emit:t}){const l=e,c=d(),{formItem:v}=E(),y=N(),k=o("switch");[['"value"','"model-value" or "v-model"',"value"],['"active-color"',"CSS var `--el-switch-on-color`","activeColor"],['"inactive-color"',"CSS var `--el-switch-off-color`","inactiveColor"],['"border-color"',"CSS var `--el-switch-border-color`","borderColor"]].forEach((e=>{pe({from:e[0],replacement:e[1],scope:ha,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},i((()=>{var a;return!!(null==(a=c.vnode.props)?void 0:a[e[2]])})))}));const{inputId:w}=F(l,{formItemContext:v}),C=B(i((()=>l.loading))),x=n(!1!==l.modelValue),V=n(),M=n(),$=i((()=>[k.b(),k.m(y.value),k.is("disabled",C.value),k.is("checked",R.value)])),S=i((()=>[k.e("label"),k.em("label","left"),k.is("active",!R.value)])),I=i((()=>[k.e("label"),k.em("label","right"),k.is("active",R.value)])),L=i((()=>({width:u(l.width)})));r((()=>l.modelValue),(()=>{x.value=!0})),r((()=>l.value),(()=>{x.value=!1}));const T=i((()=>x.value?l.modelValue:l.value)),R=i((()=>T.value===l.activeValue));[l.activeValue,l.inactiveValue].includes(T.value)||(t(_,l.inactiveValue),t(A,l.inactiveValue),t(ue,l.inactiveValue)),r(R,(e=>{var a;V.value.checked=e,l.validateEvent&&(null==(a=null==v?void 0:v.validate)||a.call(v,"change").catch((e=>te())))}));const H=()=>{const e=R.value?l.inactiveValue:l.activeValue;t(_,e),t(A,e),t(ue,e),U((()=>{V.value.checked=R.value}))},O=()=>{if(C.value)return;const{beforeChange:e}=l;if(!e)return void H();const a=e();[fe(a),re(a)].includes(!0)||me(ha,"beforeChange must return type `Promise<boolean>` or `boolean`"),fe(a)?a.then((e=>{e&&H()})).catch((e=>{})):a&&H()},D=i((()=>k.cssVarBlock({...l.activeColor?{"on-color":l.activeColor}:null,...l.inactiveColor?{"off-color":l.inactiveColor}:null,...l.borderColor?{"border-color":l.borderColor}:null})));return s((()=>{V.value.checked=R.value})),a({focus:()=>{var e,a;null==(a=null==(e=V.value)?void 0:e.focus)||a.call(e)},checked:R}),(e,a)=>(h(),p("div",{class:m(b($)),style:g(b(D)),onClick:he(O,["prevent"])},[f("input",{id:b(w),ref_key:"input",ref:V,class:m(b(k).e("input")),type:"checkbox",role:"switch","aria-checked":b(R),"aria-disabled":b(C),"aria-label":e.label,name:e.name,"true-value":e.activeValue,"false-value":e.inactiveValue,disabled:b(C),tabindex:e.tabindex,onChange:H,onKeydown:z(O,["enter"])},null,42,ua),e.inlinePrompt||!e.inactiveIcon&&!e.inactiveText?j("v-if",!0):(h(),p("span",{key:0,class:m(b(S))},[e.inactiveIcon?(h(),K(b(Z),{key:0},{default:W((()=>[(h(),K(ce(e.inactiveIcon)))])),_:1})):j("v-if",!0),!e.inactiveIcon&&e.inactiveText?(h(),p("span",{key:1,"aria-hidden":b(R)},Q(e.inactiveText),9,ca)):j("v-if",!0)],2)),f("span",{ref_key:"core",ref:M,class:m(b(k).e("core")),style:g(b(L))},[e.inlinePrompt?(h(),p("div",{key:0,class:m(b(k).e("inner"))},[e.activeIcon||e.inactiveIcon?(h(),K(b(Z),{key:0,class:m(b(k).is("icon"))},{default:W((()=>[(h(),K(ce(b(R)?e.activeIcon:e.inactiveIcon)))])),_:1},8,["class"])):e.activeText||e.inactiveText?(h(),p("span",{key:1,class:m(b(k).is("text")),"aria-hidden":!b(R)},Q(b(R)?e.activeText:e.inactiveText),11,da)):j("v-if",!0)],2)):j("v-if",!0),f("div",{class:m(b(k).e("action"))},[e.loading?(h(),K(b(Z),{key:0,class:m(b(k).is("loading"))},{default:W((()=>[P(b(de))])),_:1},8,["class"])):b(R)?ve(e.$slots,"active-action",{key:1},(()=>[e.activeActionIcon?(h(),K(b(Z),{key:0},{default:W((()=>[(h(),K(ce(e.activeActionIcon)))])),_:1})):j("v-if",!0)])):b(R)?j("v-if",!0):ve(e.$slots,"inactive-action",{key:2},(()=>[e.inactiveActionIcon?(h(),K(b(Z),{key:0},{default:W((()=>[(h(),K(ce(e.inactiveActionIcon)))])),_:1})):j("v-if",!0)]))],2)],6),e.inlinePrompt||!e.activeIcon&&!e.activeText?j("v-if",!0):(h(),p("span",{key:1,class:m(b(I))},[e.activeIcon?(h(),K(b(Z),{key:0},{default:W((()=>[(h(),K(ce(e.activeIcon)))])),_:1})):j("v-if",!0),!e.activeIcon&&e.activeText?(h(),p("span",{key:1,"aria-hidden":!b(R)},Q(e.activeText),9,va)):j("v-if",!0)],2))],14,ia))}}),[["__file","switch.vue"]])),ma="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAcCAYAAABCgc61AAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAAZSURBVCiRY9TN//efAQtgwiY4KjEqMXgkAGIQAtEYgz8TAAAAAElFTkSuQmCC",ba=e=>(we("data-v-c6736679"),e=e(),Ce(),e),ga={class:"assistant full-height flex"},ya={class:"left w-400"},ka=ba((()=>f("div",{class:"flex y-center"},[f("img",{class:"mr-5",src:ma}),q(" 知识助理定义 ")],-1))),_a={class:"form mt-25"},wa={class:"ml-12 gray"},Ca=ba((()=>f("span",{class:"mr-5"},"按钮颜色",-1))),Aa={label:"",class:"mt-30 flex x-end"},xa=ba((()=>f("div",{class:"right ml-25"},"开发中",-1))),Va=be({__name:"add",props:["params"],emits:["back"],setup(e,{emit:a}){const t=e,l=ge(),o=ye(),s=ke(),r=a;n(3);const i=T({name:"",description:"",welcome:"",buttonColor:"#409EFF",iconColor:"#409EFF",showLink:"0",sort:1});let u=null;if(t.params){const{name:e,buttonColor:a,iconColor:l,showLink:n,description:r,welcome:c}=t.params;i.name=e,i.buttonColor=a,i.iconColor=l,i.showLink=1===n,i.description=r,i.welcome=c,u=s.state.menu[2].children.findIndex((e=>e.path.split("/")[2]===o.params.id))}const c={name:[{required:!0,message:"助理名称不能为空"}]};async function d(){await Ae.confirm("您确定要删除改文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await xe.deleteAssistant({id:o.params.id}),s.commit("setAddMenu",{delete:!0,index:u}),Ve.success("删除成功"),l.push("/personal")}const v=n(null),m=()=>{v.value.validate((async e=>{e&&(t.params?(async()=>{i.id=o.params.id,await xe.updateAssistant({...i,showLink:i.showLink?1:0}),Ve.success("修改成功"),s.commit("setAddMenu",{edit:!0,index:u,name:i.name}),r("back")})():(async()=>{const e=`/assistant/${(await xe.addAssistant({...i,showLink:i.showLink?1:0})).data}`;Ve.success("创建成功"),s.commit("setAddMenu",{path:e,label:i.name}),l.push(e)})())}))};return(a,t)=>{const l=D,o=Me,n=na,s=fa,r=Se,u=$e,b=Y,g=_e;return h(),p("div",ga,[f("div",ya,[ka,f("div",_a,[P(g,{ref_key:"formRef",ref:v,rules:c,model:i,"label-width":"100px"},{default:W((()=>[P(o,{label:"助理名称",prop:"name"},{default:W((()=>[P(l,{modelValue:i.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e),placeholder:"请输入内容"},null,8,["modelValue"])])),_:1}),P(o,{label:"助理描述",prop:"description"},{default:W((()=>[P(l,{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请输入内容",modelValue:i.description,"onUpdate:modelValue":t[1]||(t[1]=e=>i.description=e)},null,8,["modelValue"])])),_:1}),P(o,{label:"欢迎语",prop:"welcome"},{default:W((()=>[P(l,{type:"textarea",autosize:{minRows:4,maxRows:5},placeholder:"请输入内容",modelValue:i.welcome,"onUpdate:modelValue":t[2]||(t[2]=e=>i.welcome=e)},null,8,["modelValue"])])),_:1}),P(o,{label:"主题颜色",prop:"iconColor"},{default:W((()=>[P(n,{modelValue:i.iconColor,"onUpdate:modelValue":t[3]||(t[3]=e=>i.iconColor=e)},null,8,["modelValue"]),f("p",wa,[Ca,q(),P(n,{modelValue:i.buttonColor,"onUpdate:modelValue":t[4]||(t[4]=e=>i.buttonColor=e)},null,8,["modelValue"])])])),_:1}),P(o,{label:"展示源文件",prop:"showLink"},{default:W((()=>[P(s,{modelValue:i.showLink,"onUpdate:modelValue":t[5]||(t[5]=e=>i.showLink=e)},null,8,["modelValue"])])),_:1}),P(o,{label:"配置权限"},{default:W((()=>[P(u,{modelValue:i.a,"onUpdate:modelValue":t[6]||(t[6]=e=>i.a=e),multiple:"",placeholder:"请选择"},{default:W((()=>[(h(),p($,null,S([{label:"dd",value:""}],(e=>P(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),P(o,{label:"使用权限"},{default:W((()=>[P(u,{modelValue:i.a,"onUpdate:modelValue":t[7]||(t[7]=e=>i.a=e),multiple:"",placeholder:"请选择"},{default:W((()=>[(h(),p($,null,S([{label:"dd",value:""}],(e=>P(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),f("div",Aa,[e.params?(h(),K(b,{key:0,onClick:d,class:"h-40 w-80",type:"danger"},{default:W((()=>[q("删除")])),_:1})):j("",!0),P(b,{onClick:m,class:"h-40 w-80",type:"primary"},{default:W((()=>[q("保存")])),_:1}),P(b,{class:"h-40 flex-1",type:"primary",plain:""},{default:W((()=>[q("生成知识采集框架")])),_:1})])])),_:1},8,["model"])])]),xa])}}},[["__scopeId","data-v-c6736679"]]),Ma=Object.freeze(Object.defineProperty({__proto__:null,default:Va},Symbol.toStringTag,{value:"Module"}));export{ma as _,Va as a,Ma as b};
